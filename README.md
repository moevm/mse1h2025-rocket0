# mse-2025-template

## Инструкция по запуску

- Прописать команду:`make chat-compose-up`. Она создаст инстанс рокетчата.
- Подключиться к рокетчату через браузер по `localhost:3000`
- (опционально) Подгрузить dump чата `make load-chat-dump`
- создать `.env` файл, скопировать данные из `.env.example`
- Прописать команду `make bot-compose-up`: она поднимет бота и его базу в докере, подключится к инстансу рокетчата, начнет его слушать
- авторизоваться
- если все сделано правильно, то команда `!time` в чате будет возвращать ответ от бота в виде текущего времени
- также будут доступны команды `!find_unanswered`, `!stats` и реакция бота на сообщения с вопросительным знаком
- команды `make bot-compose-down` и `make chat-compose-down` соответственно удалят ранее поднятые контейнеры

## Интеграция с Telegram
- Создайте своего бота, используя [@BotFather](https://t.me/BotFather). Инструкции по созданию бота есть в интернете, например: [ссылка](https://marketolog.mts.ru/blog/kak-sozdat-bota-v-botfather-gaid-dlya-novichkov).
- В файле `.env` с новой строки запишите токен, созданного вами бота (который выглядит как `123456:ABC-DEF1234ghIkl`) в формате `TELEGRAM_TOKEN=<your token>` (смотрите пример в файле [`.env.example`](.env.example)).
- Узнайте свой ID пользователя в Telegram. Для этого вы можете воспользоваться ботом [@getmyid_bot](https://t.me/getmyid_bot) (скопируйте именно **user ID**, а не **chat ID**).
- В файле `.env` с новой строки запишите ID пользователей, которым бот должен присылать сообщения в формате (`TELEGRAM_USERS_ALLOW_LIST=875,8907`) (смотрите пример в файле [`.env.example`](.env.example)). Можно указать один ID, можно несколько через запятую.
- Отправьте вашему боту команду `/start` в Telegram-чате. Он никак не отреагирует - это нормально. Это нужно, чтобы бот мог писать вам сообщения (если бот должен оповещать нескольких пользователей, все они также должны запустить у себя бота).

Если всё пройдёт успешно, бот будет присылать вам сообщения подобного вида: `requests:INFO - Command.TIME None`